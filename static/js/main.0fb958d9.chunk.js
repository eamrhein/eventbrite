(this.webpackJsonpeventbrite=this.webpackJsonpeventbrite||[]).push([[0],{139:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(19),c=t.n(r),o=(t(73),t(26)),i=t(50),s=t(10),u=(t(74),t(75),t(145)),m=t(146),d=t(61),p=t(149),E=t(151),v=t(150),f=t(147),h=t(148),b=t(51),g=t.n(b),w=t(9),k=t.n(w),y="2HFMBE2GUW52R2FYGTBQ",O=function(e,a){return!(Date.parse(e)>=Date.parse(a))},j=function(e,a){return e.length<=a},C={title:{valid:null,invalid:null},date:{valid:null,invalid:null},image:{valid:null,invalid:null},organizer:{valid:null,invalid:null},ticketName:{valid:null,invalid:null},numberOfTickets:{valid:null,invalid:null},price:{valid:null,invalid:null}},N=function(e,a,t,n,l,r){return{event:{name:{html:e},description:{html:a},start:{timezone:"America/Los_Angeles",utc:"".concat(t.toJSON().slice(0,19),"Z")},end:{timezone:"America/Los_Angeles",utc:"".concat(n.toJSON().slice(0,19),"Z")},currency:"USD",logo_id:l,is_series:r}}},x=function(e){if(""===e||0===e)return 0;var a=e.split(".");return a.length>1?a.join(""):100*parseFloat(e)};var S=function(){for(var e,a,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=[],c=300+n;c<=1340;c+=30)e=Math.floor(c/60),(a=c%60)<10&&(a="0".concat(a)),t=e%24<12?"AM":"PM",0===(e%=12)&&(e=12),r.push(l.a.createElement("option",{key:c},e,":",a," ",t));return r},T=function(e,a){return e.setDate(e.getDate()+1),e.setHours(a,0,0,0),e},D=function(e,a){e.setHours(0,0,0,0);var t=a.split(" "),n=t[1],l=t[0].split(":"),r=parseInt(l[0]),c=parseInt(l[1]);return 12===r&&(r=0),"PM"===n&&(r+=12),e.setHours(r,c,0,0),e},L=function(e){var a=e.toLocaleTimeString();return a=a.slice(0,4)+a.slice(7)},G=function(e,a){return(Date.parse(a)-Date.parse(e))/1e3};t(77);var I=function(){var e=Object(n.useState)(T(new Date,0)),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(T(new Date,1)),b=Object(s.a)(c,2),w=b[0],I=b[1],F=Object(n.useState)(T(new Date,1)),_=Object(s.a)(F,2),A=_[0],M=_[1],B=Object(n.useState)([]),H=Object(s.a)(B,2),J=H[0],R=H[1],U=Object(n.useState)(0),V=Object(s.a)(U,2),q=V[0],P=V[1],z=Object(n.useState)(0),W=Object(s.a)(z,2),Z=W[0],Q=W[1],Y=Object(n.useState)(""),K=Object(s.a)(Y,2),$=K[0],X=K[1],ee=Object(n.useState)(""),ae=Object(s.a)(ee,2),te=ae[0],ne=ae[1],le=Object(n.useState)(null),re=Object(s.a)(le,2),ce=re[0],oe=re[1],ie=Object(n.useState)(null),se=Object(s.a)(ie,2),ue=se[0],me=se[1],de=Object(n.useState)(""),pe=Object(s.a)(de,2),Ee=pe[0],ve=pe[1],fe=Object(n.useState)(100),he=Object(s.a)(fe,2),be=he[0],ge=he[1],we=Object(n.useState)("0.00"),ke=Object(s.a)(we,2),ye=ke[0],Oe=ke[1],je=Object(n.useState)(C),Ce=Object(s.a)(je,2),Ne=Ce[0],xe=Ce[1],Se=Object(n.useState)([]),Te=Object(s.a)(Se,2),De=Te[0],Le=Te[1],Ge=function(e,a){xe(e?Object(i.a)({},Ne,Object(o.a)({},a,{valid:e})):Object(i.a)({},Ne,Object(o.a)({},a,{invalid:!e})))},Ie=function(e,a){for(var t=[],n=e,l=function(e){var a=new Date(this.valueOf());return a.setDate(a.getDate()+e),a};n<=a;)t.push(n),n=l.call(n,7);return t.length},Fe=function(e){var a,n;switch(e.target.name){case"title":j(e.target.value,70)&&e.target.value.length>0?Ge(!0,"title"):Ge(!1,"title"),X(e.target.value);break;case"ticketName":j(e.target.value,70)&&e.target.value.length>0?Ge(!0,"ticketName"):Ge(!1,"ticketName"),ve(e.target.value);break;case"from":a=D(t,e.target.value),O(a,A)?Ge(!0,"date"):Ge(!1,"date"),r(a),Q(G(a,w));break;case"to":a=D(A,e.target.value),n=D(w,e.target.value),O(t,a)?Ge(!0,"date"):Ge(!1,"date"),M(a),I(n),Q(G(t,n));break;case"description":ne(e.target.value);break;case"numberOfTickets":ge(e.target.value);break;case"price":Oe(e.target.value)}};return l.a.createElement("main",null,l.a.createElement(u.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-md-center"},l.a.createElement(d.a,{md:"auto"},l.a.createElement("h1",{className:"title"},"Eventbrite"))),l.a.createElement(m.a,{className:"justify-content-md-center"},l.a.createElement(d.a,{md:"auto"},l.a.createElement("h4",{className:"title"},"Event Creation Tool"))),l.a.createElement(p.a,{onSubmit:function(e){R([]),e.preventDefault();Object.keys(Ne).every((function(e){var a=Ne[e].valid;return!0===a||null===a}))?(e.stopPropagation(),function(e){var a,t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.a.awrap(fetch("https://www.eventbriteapi.com/v3/organizations/64592771355/events/?token=".concat(y),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}));case 2:if((a=n.sent).ok){n.next=5;break}throw new Error("Event Data is Incomplete");case 5:return n.next=7,k.a.awrap(a.json());case 7:return t=n.sent,n.abrupt("return",t);case 9:case"end":return n.stop()}}))}(N($,te,w,A,ue,q>1)).then((function(e){return Le(De.concat([e.url])),e})).then((function(e){if(q>1){var a="DTSTART:".concat(t.toJSON(),"\nRRULE:FREQ=WEEKLY;COUNT=").concat(q,"\n              ");(function(e,a,t){var n,l;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k.a.awrap(fetch("https://www.eventbriteapi.com/v3/events/".concat(e,"/schedules/?token=").concat(y),{method:"post",body:JSON.stringify({schedule:{occurrence_duration:a,recurrence_rule:t}}),headers:{"Content-Type":"application/json"}}));case 2:return n=r.sent,r.next=5,k.a.awrap(n.json());case 5:return l=r.sent,console.log(l),r.abrupt("return",l);case 8:case"end":return r.stop()}}))})(e.id,Z,a).catch((function(e){return R(J.concat([e.message]))}))}return e})).then((function(e){return function(e,a,t,n){var l,r;return k.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if("000"!==(a=x(a))){c.next=7;break}return c.next=4,k.a.awrap(fetch(" https://www.eventbriteapi.com/v3/events/".concat(e,"/ticket_classes/?token=").concat(y),{method:"post",body:JSON.stringify({ticket_class:{name:n,quantity_total:t,free:!0}}),headers:{"Content-Type":"application/json"}}));case 4:l=c.sent,c.next=10;break;case 7:return c.next=9,k.a.awrap(fetch(" https://www.eventbriteapi.com/v3/events/".concat(e,"/ticket_classes/?token=").concat(y),{method:"post",body:JSON.stringify({ticket_class:{name:n,quantity_total:t,cost:"USD, ".concat(a)}}),headers:{"Content-Type":"application/json"}}));case 9:l=c.sent;case 10:if(l.ok){c.next=12;break}throw new Error("Ticket Info is Incorrect");case 12:return c.next=14,k.a.awrap(l.json());case 14:return r=c.sent,c.abrupt("return",r);case 16:case"end":return c.stop()}}))}(e.id,ye,be,Ee).catch((function(e){return R(J.concat([e.message]))})),e})).then((function(e){(function(e){var a;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.awrap(fetch("https://www.eventbriteapi.com/v3/events/".concat(e,"/publish/?token=").concat(y),{method:"post",headers:{"Content-Type":"application/json"}}));case 2:if((a=t.sent).ok){t.next=5;break}throw new Error("Could Not Publish Event");case 5:return t.abrupt("return",a.json());case 6:case"end":return t.stop()}}))})(e.id).catch((function(e){return R(J.concat([e.message]))}))})).catch((function(e){R(J.concat([e.message]))})),r(T(new Date,0)),I(T(new Date,1)),M(T(new Date,1)),P(0),Q(0),X(""),ne(""),oe(null),me(null),ve(""),ge(100),Oe("0.00")):R(J.concat(["Formdata is invalid"]))}},l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,{className:"mt-3"},l.a.createElement(E.a.Header,{as:"h5"},"Title"),l.a.createElement(E.a.Body,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Title"),l.a.createElement(p.a.Control,{required:!0,isInvalid:Ne.title.invalid,isValid:Ne.title.valid,name:"title",type:"text",maxLength:"70",placeholder:"Give it a short distinct name",value:$,onChange:Fe}),l.a.createElement(p.a.Control.Feedback,{type:"valid"},"Looks Good"),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"A Title is required")))))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,{className:"mt-3"},l.a.createElement(E.a.Header,{as:"h5"},"Location"),l.a.createElement(E.a.Body,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Group,{controlId:"VenueName"},l.a.createElement(p.a.Control,{placeholder:"Venue Name"})),l.a.createElement(p.a.Group,{controlId:"formGridAddress1"},l.a.createElement(p.a.Label,null,"Address"),l.a.createElement(p.a.Control,{placeholder:"1234 Main St"})),l.a.createElement(p.a.Group,{controlId:"formGridAddress2"},l.a.createElement(p.a.Label,null,"Address 2"),l.a.createElement(p.a.Control,{placeholder:"Apartment, studio, or floor"})),l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Group,{as:d.a,controlId:"formGridCity"},l.a.createElement(p.a.Label,null,"City"),l.a.createElement(p.a.Control,null)),l.a.createElement(p.a.Group,{as:d.a,controlId:"formGridState"},l.a.createElement(p.a.Label,null,"State"),l.a.createElement(p.a.Control,{as:"select"},l.a.createElement("option",null,"CA"),l.a.createElement("option",null,"NY"))),l.a.createElement(p.a.Group,{as:d.a,controlId:"formGridZip"},l.a.createElement(p.a.Label,null,"Zip"),l.a.createElement(p.a.Control,null)))))))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,{className:"mt-3"},l.a.createElement(E.a.Header,{as:"h5"},"Schedule Dates"),l.a.createElement(E.a.Body,null,l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"How Often?"),l.a.createElement(p.a.Control,{disabled:!0,defaultValue:"Weekly"})))),l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"From"),l.a.createElement(p.a.Control,{required:!0,name:"from",onChange:Fe,value:L(t),isInvalid:Ne.date.invalid,isValid:Ne.date.valid,as:"select"},S()),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be before end time.")),l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"To"),l.a.createElement(p.a.Control,{required:!0,name:"to",onChange:Fe,value:L(A),as:"select",isInvalid:Ne.date.invalid,isValid:Ne.date.valid},S(30)),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be Afer start time."))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,Z>0?l.a.createElement(v.a,{className:"eventlist",variant:"success"},"Duration of"," ",Z/60," ","Minutes"):""))),l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement("p",null,"Occurs From:"),l.a.createElement(g.a,{className:"form-control",minDate:t,onChange:function(e){O(e,A)?Ge(!0,"date"):Ge(!1,"date"),r(e);var a=Ie(e,A);P(a)},selected:t,isInvalid:Ne.date.invalid,isValid:Ne.date.valid})),l.a.createElement(d.a,null,l.a.createElement("p",null,"Occurs Until"),l.a.createElement(g.a,{className:"form-control",onChange:function(e){O(t,e)?Ge(!0,"date"):Ge(!1,"date"),M(e);var a=Ie(t,e);P(a)},minDate:A,selected:A,isInvalid:Ne.date.invalid,isValid:Ne.date.valid}))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,q>0?l.a.createElement(v.a,{className:"eventlist",variant:"success"},q," ","Events"):""))))))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,{className:"mt-3"},l.a.createElement(E.a.Header,{as:"h5"},"Event Image"),l.a.createElement(E.a.Body,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Event Image"),l.a.createElement(m.a,null,l.a.createElement(d.a,{className:"image-upload"},l.a.createElement("div",{className:"img-upload-inner"},l.a.createElement(p.a.Control,{className:"inputfile",id:"file",type:"file",onChange:function(e){if(e.currentTarget.files[0]){var a=e.currentTarget.files[0];oe(URL.createObjectURL(a)),function(){var e,a;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.awrap(fetch("https://www.eventbriteapi.com/v3/media/upload/?type=image-event-logo&token=".concat(y)));case 2:return e=t.sent,t.next=5,k.a.awrap(e.json());case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}))}().then((function(e){(function(e,a,t){var n,l,r,c;return k.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(l in n=new FormData,t)n.append(l,t[l]);return n.append("file",e),o.prev=3,r={method:"POST",body:n},o.next=7,k.a.awrap(fetch(a,r));case 7:if((c=o.sent).ok){o.next=10;break}throw new Error(c.statusText);case 10:return o.abrupt("return",c);case 13:o.prev=13,o.t0=o.catch(3),console.log(o.t0.message);case 16:case"end":return o.stop()}}),null,null,[[3,13]])})(a,e.upload_url,e.upload_data).then((function(){return function(e){var a,t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(a=new FormData).append("upload_token",e),n.next=5,k.a.awrap(fetch("https://www.eventbriteapi.com/v3/media/upload/?token=".concat(y),{method:"POST",body:a}));case 5:return t=n.sent,n.next=8,k.a.awrap(t.json());case 8:return n.abrupt("return",n.sent);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0.message);case 14:case"end":return n.stop()}}),null,null,[[0,11]])}(e.upload_token)})).then((function(e){me(e.id),oe(e.url)}))}))}},accept:"image/png, image/jpeg",isInvalid:!1}),l.a.createElement(p.a.Label,{htmlFor:"file"},ce?l.a.createElement(f.a,{alt:"banner",src:ce,fluid:!0}):l.a.createElement("div",{className:"default-img"}," ",l.a.createElement("i",{className:"fa fa-camera"}),l.a.createElement("h6",null,"Add Event Image"),l.a.createElement("p",null,"Choose a compelling image that brings your event to life"))),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be less than 10MB."))))))))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,{className:"mt-3"},l.a.createElement(E.a.Header,{as:"h5"},"Description"),l.a.createElement(E.a.Body,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Event Description"),l.a.createElement(p.a.Control,{as:"textarea",rows:"4",name:"description",onChange:Fe,value:te})))))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,{className:"mt-3"},l.a.createElement(E.a.Header,{as:"h5"},"Tickets"),l.a.createElement(E.a.Body,null,l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"Ticket Name"),l.a.createElement(p.a.Control,{required:!0,type:"text",value:Ee,name:"ticketName",onChange:Fe,placeholder:"Ticket Name",isValid:Ne.ticketName.valid,isInvalid:Ne.ticketName.invalid}),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Ticket name is required.")),l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"Quantity Available"),l.a.createElement(p.a.Control,{value:be,min:"1",max:"30000",name:"numberOfTickets",onChange:Fe,type:"number",placeholder:"100"}),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must have one or more tickets.")),l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"Price"),l.a.createElement(p.a.Control,{type:"number",min:"0.00",max:"10000.00",step:"0.01",placeholder:"Free",name:"price",value:ye,onChange:Fe}),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be a postitive number that is less than 10000")))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,De.length>0?l.a.createElement(v.a,{className:"eventlist",variant:"success"},l.a.createElement("h6",null,"Event URL"),De.map((function(e){return l.a.createElement(m.a,{key:e},l.a.createElement(d.a,null,l.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:e},e)))}))):"",J.length>0?l.a.createElement(v.a,{className:"eventlist",variant:"danger"},l.a.createElement("h6",null,"Error"),J):"")),l.a.createElement(h.a,{variant:"success",type:"submit",size:"lg"},"Create Event"))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,a,t){e.exports=t(139)},73:function(e,a,t){},75:function(e,a,t){}},[[68,1,2]]]);
//# sourceMappingURL=main.0fb958d9.chunk.js.map