(this.webpackJsonpeventbrite=this.webpackJsonpeventbrite||[]).push([[0],{138:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),c=a.n(r),i=(a(72),a(25)),o=a(49),s=a(10),u=(a(73),a(74),a(144)),m=a(145),d=a(60),p=a(148),v=a(149),b=a(146),f=a(147),E=a(9),h=a.n(E),g="2HFMBE2GUW52R2FYGTBQ";var w=function(){for(var e,t,a,n=[],r=0;r<=1440;r+=30)(t=r%60)<10&&(t="0"+t),a=(e=Math.floor(r/60))%24<12?"AM":"PM",0===(e%=12)&&(e=12),n.push(l.a.createElement("option",{key:r},e,":",t," ",a));return n},k=function(e,t){return e.setDate(e.getDate()+1),e.setHours(t,0,0,0),e},y=function(e,t){e.setHours(0,0,0,0);var a=t.split(" "),n=a[1],l=a[0].split(":"),r=parseInt(l[0]),c=parseInt(l[1]);return 12===r&&(r=0),"PM"===n&&(r+=12),e.setHours(r,c,0,0),e},O=function(e){var t=e.toLocaleTimeString();return t=t.slice(0,4)+t.slice(7)},j=function(e,t){return(Date.parse(t)-Date.parse(e))/1e3},C=function(e,t){return!(Date.parse(e)>=Date.parse(t))},x=function(e,t){return e.length<=t},S={title:{valid:null,invalid:null},date:{valid:null,invalid:null},image:{valid:null,invalid:null},organizer:{valid:null,invalid:null},ticketName:{valid:null,invalid:null},numberOfTickets:{valid:null,invalid:null},price:{valid:null,invalid:null}},N=function(e,t,a,n,l,r){return{event:{name:{html:e},description:{html:t},start:{timezone:"America/Los_Angeles",utc:a.toJSON().slice(0,19)+"Z"},end:{timezone:"America/Los_Angeles",utc:n.toJSON().slice(0,19)+"Z"},currency:"USD",logo_id:l,is_series:r}}},T=a(50),D=a.n(T);a(76);var L=function(){var e=Object(n.useState)(k(new Date,0)),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(k(new Date,1)),E=Object(s.a)(c,2),T=E[0],L=E[1],F=Object(n.useState)(k(new Date,1)),_=Object(s.a)(F,2),G=_[0],I=_[1],M=Object(n.useState)(0),A=Object(s.a)(M,2),J=A[0],q=A[1],R=Object(n.useState)(0),U=Object(s.a)(R,2),V=U[0],P=U[1],z=Object(n.useState)(""),B=Object(s.a)(z,2),H=B[0],W=B[1],Q=Object(n.useState)(""),Y=Object(s.a)(Q,2),Z=Y[0],K=Y[1],$=Object(n.useState)(null),X=Object(s.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)(null),ne=Object(s.a)(ae,2),le=ne[0],re=ne[1],ce=Object(n.useState)(""),ie=Object(s.a)(ce,2),oe=ie[0],se=ie[1],ue=Object(n.useState)(100),me=Object(s.a)(ue,2),de=me[0],pe=me[1],ve=Object(n.useState)(0),be=Object(s.a)(ve,2),fe=be[0],Ee=be[1],he=Object(n.useState)(S),ge=Object(s.a)(he,2),we=ge[0],ke=ge[1],ye=Object(n.useState)(null),Oe=Object(s.a)(ye,2),je=Oe[0],Ce=Oe[1],xe=function(e,t){ke(e?Object(o.a)({},we,Object(i.a)({},t,{valid:e})):Object(o.a)({},we,Object(i.a)({},t,{invalid:!e})))},Se=function(e,t){for(var a=[],n=e,l=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};n<=t;)a.push(n),n=l.call(n,7);return a.length},Ne=function(e){var t,n;switch(e.target.name){case"title":x(e.target.value,70)&&e.target.value.length>0?xe(!0,"title"):xe(!1,"title"),W(e.target.value);break;case"ticketName":x(e.target.value,70)&&e.target.value.length>0?xe(!0,"ticketName"):xe(!1,"ticketName"),se(e.target.value);break;case"from":t=y(a,e.target.value),C(t,G)?xe(!0,"date"):xe(!1,"date"),r(t),P(j(t,T));break;case"to":t=y(G,e.target.value),n=y(T,e.target.value),C(a,t)?xe(!0,"date"):xe(!1,"date"),I(t),L(n),P(j(a,n));break;case"description":K(e.target.value);break;case"numberOfTickets":pe(e.target.value);break;case"price":Ee(e.target.value)}};return l.a.createElement("main",null,l.a.createElement(u.a,null,l.a.createElement(m.a,{className:"justify-content-md-center"},l.a.createElement(d.a,{md:"auto"},l.a.createElement("h1",null,"eventbrite"))),l.a.createElement(m.a,{className:"justify-content-md-center"},l.a.createElement(d.a,{md:"auto"},l.a.createElement("h4",null,"Create A Repeating Event"))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a,{onSubmit:function(e){e.preventDefault();if(Object.keys(we).every((function(e){var t=we[e].valid;return!0===t||null===t}))){e.stopPropagation();var t=N(H,Z,T,G,le,J>1);try{(function(e){var t,a;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(fetch("https://www.eventbriteapi.com/v3/organizations/64592771355/events/?token=".concat(g),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}));case 2:return t=n.sent,n.next=5,h.a.awrap(t.json());case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}))})(t).then((function(e){return Ce(e.url),console.log(e),e})).then((function(e){if(J>1){var t="DTSTART:".concat(a.toJSON(),"\nRRULE:FREQ=WEEKLY;COUNT=").concat(J,"\n              ");!function(e,t,a){var n,l;h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(fetch("https://www.eventbriteapi.com/v3/events/".concat(e,"/schedules/?token=").concat(g),{method:"post",body:JSON.stringify({schedule:{occurrence_duration:t,recurrence_rule:a}}),headers:{"Content-Type":"application/json"}}));case 2:return n=r.sent,r.next=5,h.a.awrap(n.json());case 5:return l=r.sent,console.log(l),r.abrupt("return",l);case 8:case"end":return r.stop()}}))}(e.id,V,t)}return e})).then((function(e){return function(e,t,a,n){var l,r;h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==t){c.next=6;break}return c.next=3,h.a.awrap(fetch(" https://www.eventbriteapi.com/v3/events/".concat(e,"/ticket_classes/?token=").concat(g),{method:"post",body:JSON.stringify({ticket_class:{name:n,quantity_total:a,free:!0}}),headers:{"Content-Type":"application/json"}}));case 3:l=c.sent,c.next=9;break;case 6:return c.next=8,h.a.awrap(fetch(" https://www.eventbriteapi.com/v3/events/".concat(e,"/ticket_classes/?token=").concat(g),{method:"post",body:JSON.stringify({ticket_class:{name:n,quantity_total:a,cost:"USD, ".concat(t)}}),headers:{"Content-Type":"application/json"}}));case 8:l=c.sent;case 9:return c.next=11,h.a.awrap(l.json());case 11:return r=c.sent,console.log(r),c.abrupt("return",r);case 14:case"end":return c.stop()}}))}(e.id,fe,de,oe),e})).then((function(e){!function(e){var t;h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(fetch("https://www.eventbriteapi.com/v3/events/".concat(e,"/publish/?token=").concat(g),{method:"post",headers:{"Content-Type":"application/json"}}));case 2:return t=a.sent,a.next=5,h.a.awrap(t.json());case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}))}(e.id)}))}catch(n){console.log(n.message)}}else console.log("invalid")}},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Title"),l.a.createElement(p.a.Control,{required:!0,isInvalid:we.title.invalid,isValid:we.title.valid,name:"title",type:"text",maxLength:"70",placeholder:"Give it a short distinct name",value:H,onChange:Ne}),l.a.createElement(p.a.Control.Feedback,{type:"valid"},"Looks Good"),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"A Title is required")),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Location"),l.a.createElement(p.a.Control,{disabled:!0,defaultValue:"San Francisco"})),l.a.createElement(p.a.Group,null,l.a.createElement("h5",null,"Schedule Dates")),l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"How Often?"),l.a.createElement(p.a.Control,{disabled:!0,defaultValue:"Weekly"})))),l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"From"),l.a.createElement(p.a.Control,{required:!0,name:"from",onChange:Ne,value:O(a),isInvalid:we.date.invalid,isValid:we.date.valid,as:"select"},w()),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be before end time.")),l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"To"),l.a.createElement(p.a.Control,{required:!0,name:"to",onChange:Ne,value:O(G),as:"select",isInvalid:we.date.invalid,isValid:we.date.valid},w()),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be Afer start time."))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,V>0?l.a.createElement(v.a,{className:"eventlist",variant:"success"},"Duration of ",V/60," Minutes"):""))),l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement("p",null,"Occurs From:"),l.a.createElement(D.a,{className:"form-control",minDate:a,onChange:function(e){C(e,G)?xe(!0,"date"):xe(!1,"date"),r(e);var t=Se(e,G);q(t)},selected:a,isInvalid:we.date.invalid,isValid:we.date.valid})),l.a.createElement(d.a,null,l.a.createElement("p",null,"Occurs Until"),l.a.createElement(D.a,{className:"form-control",onChange:function(e){C(a,e)?xe(!0,"date"):xe(!1,"date"),I(e);var t=Se(a,e);q(t)},minDate:G,selected:G,isInvalid:we.date.invalid,isValid:we.date.valid}))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,J>0?l.a.createElement(v.a,{className:"eventlist",variant:"success"},J," Events"):""))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Event Image"),l.a.createElement(m.a,null,l.a.createElement(d.a,{className:"image-upload"},l.a.createElement("div",{className:"img-upload-inner"},l.a.createElement(p.a.Control,{className:"inputfile",id:"file",type:"file",onChange:function(e){if(e.currentTarget.files[0]){var t=e.currentTarget.files[0];te(URL.createObjectURL(t)),function(){var e,t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(fetch("https://www.eventbriteapi.com/v3/media/upload/?type=image-event-logo&token=".concat(g)));case 2:return e=a.sent,a.next=5,h.a.awrap(e.json());case 5:return t=a.sent,a.abrupt("return",t);case 7:case"end":return a.stop()}}))}().then((function(e){(function(e,t,a){var n,l,r,c;return h.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:for(l in n=new FormData,a)n.append(l,a[l]);return n.append("file",e),i.prev=3,r={method:"POST",body:n},i.next=7,h.a.awrap(fetch(t,r));case 7:if((c=i.sent).ok){i.next=10;break}throw new Error(c.statusText);case 10:return i.abrupt("return",c);case 13:i.prev=13,i.t0=i.catch(3),console.log(i.t0.message);case 16:case"end":return i.stop()}}),null,null,[[3,13]])})(t,e.upload_url,e.upload_data).then((function(){return function(e){var t,a;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(t=new FormData).append("upload_token",e),n.next=5,h.a.awrap(fetch("https://www.eventbriteapi.com/v3/media/upload/?token=".concat(g),{method:"POST",body:t}));case 5:return a=n.sent,n.next=8,h.a.awrap(a.json());case 8:return n.abrupt("return",n.sent);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0.message);case 14:case"end":return n.stop()}}),null,null,[[0,11]])}(e.upload_token)})).then((function(e){re(e.id),te(e.url)}))}))}},accept:"image/png, image/jpeg",isInvalid:!1}),l.a.createElement(p.a.Label,{htmlFor:"file"},ee?l.a.createElement(b.a,{alt:"banner",src:ee,fluid:!0}):l.a.createElement("div",{className:"default-img"}," ",l.a.createElement("i",{className:"fa fa-camera"}),l.a.createElement("h6",null,"Add Event Image"),l.a.createElement("p",null,"Choose a compelling image that brings your event to life"))),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be less than 10MB."))))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,"Event Description"),l.a.createElement(p.a.Control,{as:"textarea",rows:"4",name:"description",onChange:Ne,value:Z})),l.a.createElement(p.a.Group,null,l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"Ticket Name"),l.a.createElement(p.a.Control,{required:!0,type:"text",value:oe,name:"ticketName",onChange:Ne,placeholder:"Ticket Name",isValid:we.ticketName.valid,isInvalid:we.ticketName.invalid}),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Ticket name is required.")),l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"Quantity Available"),l.a.createElement(p.a.Control,{value:de,min:"1",max:"30000",name:"numberOfTickets",onChange:Ne,type:"number",placeholder:"100"}),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must have one or more tickets.")),l.a.createElement(d.a,null,l.a.createElement(p.a.Label,null,"Price"),l.a.createElement(p.a.Control,{type:"number",min:"0.00",max:"10000.00",step:"0.01",placeholder:"Free",name:"price",value:fe,onChange:Ne}),l.a.createElement(p.a.Control.Feedback,{type:"invalid"},"Must be a postitive number that is less than 10000")))),l.a.createElement(f.a,{variant:"success",type:"submit",size:"lg"},"Create Event"))))),l.a.createElement(m.a,null,l.a.createElement(d.a,null,je?l.a.createElement(v.a,{className:"eventlist",variant:"success"},l.a.createElement("h6",null,"List of Events"),l.a.createElement("a",{href:je},je)):"")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,a){e.exports=a(138)},72:function(e,t,a){},74:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.71040439.chunk.js.map